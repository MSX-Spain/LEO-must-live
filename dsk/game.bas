10cls:color1,15,15:keyoff
20defusr=&h003B:a=usr(0):defusr1=&h003E:a=usr1(0):defusr2=&H90:a=usr2(0):defusr3=&h41:defusr4=&h44
25screen2,2,0
30definta-z
35open"grp:"as#1
40print#1,"Loadingsprites"
45gosub9000
50print#1,"Loadingtileset"
55gosub10000
80X=5:Y=80:G=1:P=0:P0=0:P1=1:P2=2:P3=3
90goto300
100S=STICK(0)ORSTICK(1)
110ONSGOTO130,140,150,160,170,180,190,200
120goto215
130Y=Y-4:IFY<40THENY=40
132GOTO210
140Y=Y-4:X=X+4:IFY<40THENY=40
142P=P0:SWAPP0,P1:GOTO210
150X=X+4
152P=P0:SWAPP0,P1:GOTO210
160X=X+4:Y=Y+4
161IFY>100THENY=100
162P=P0:SWAPP0,P1:GOTO210
170Y=Y+4:IFY>100THENY=100
172P=P0:SWAPP0,P1:GOTO210
180Y=Y+4:X=X-4:IFY>100THENY=100
181IFX<4THENX=4
182P=P2:SWAPP2,P3:GOTO210
190X=X-4:IFX<4THENX=4
192P=P2:SWAPP2,P3:GOTO210
200Y=Y-4:X=X-4:IFY<40THENY=40
201IFX<4THENX=4
202P=P2:SWAPP2,P3
210PUTSPRITE0,(X,Y),4,P
215IFPOINT(X+4,Y+14)=5THENGOSUB5060
216IFPOINT(X+12,Y+10)=5THENGOSUB5060
230ONFGOSUB330,530,730,930,1130,1330,1530
300'gosub11000:'sepintaelmapadetilesyseinicializa
310'seinicializanosenemigos,sepintanlosobjetosyelmarcador'
320'seinicializanlasvariablesdelplayer'
330ifx>240thengoto500
340'pintamoslosenemigos'
350'Actualizamoslosenemigos'
390goto100
530ifx>240thengoto700
590goto100
730ifx>240thengoto900
790goto100
930ifx>240thengoto1100
990goto100
1130ifx>240thengoto1300
1190goto100
1330ifx>240thengoto1500
1390goto100
1530ifx>240thengoto80
1590goto100
1700print#1,"tuganas"
1710ONSTRIGGOSUB1790:STRIG(0)ON
1720GOTO1720
1790STRIG(0)OFF:RETURN80
1800print#1,"menupricipal,pulseunatecla"
1810ONSTRIGGOSUB1890:STRIG(0)ON
1820GOTO1820
1890STRIG(0)OFF:RETURN80
5060'colisi√≥nconobjeto'
5090return
11000'gosub6600
11010md=6144
11020forf=0to19
11030READmp$
11040forc=0to39step2
11050tn$=mid$(mp$,c+1,2)
11060tn=val("&h"+tn$)
11070VPOKEmd,tn:md=md+1
11160nextc
11170md=md+12
11180nextf
11190return
12000data000e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e00
12010data0e1404000d07070708000000090307070707080e
12020data0e0004000415000000000016000400000000000e
12030data0e00040004000d0707030800000a0707070c000e
12040data0e0004000400040000040000000000120004000e
12050data0e000a070b000a0707030707070c00130004000e
12060data0e0000000000000000040000000400000004000e
12070data0e0707070707070c00040000000400000004000e
12080data0e00000000000004000a070707030707070b000e
12090data0e0015000016000400000000000000000000000e
12100data0e00000000000004000d0707070707070708000e
12110data0e000d070800000400040000000000000000000e
12120data0e00040000000004000a070707070c000907070e
12130data0e0004000d07070b00000000180004000000000e
12140data0e000400041400000009070c000004000000000e
12150data0e0004000a07070c0000000400000a07070c000e
12160data0e0004000000000400000004000000000004000e
12170data0e000a07070707030707070b001600000004000e
12180data0e0000000000000000000000000000000004140e
12190data000e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e00
12200data000e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e00
12210data0e0907070707070707070708000000000000000e
12220data0e140000000000000000150000000d070707160e
12230data0e090707070716070716070c000004000000000e
12240data0e0000000000000000000004000004000005000e
12250data0e00090307070707070c0006000004000004000e
12260data0e0000040000000000041500000004000004000e
12270data0e05000400001600000400000d070b000004000e
12280data0e0400040005000500040000041200000004000e
12290data0e0400040004000400040000041300000004000e
12300data0e04000400040004000400000a070716030b000e
12310data0e0400040004000400040000000000000400000e
12320data0e040004000400040004000d070708000400090e
12330data0e0400040004000400040004000000000400000e
12340data0e04000400060004000a0703070707070308000e
12350data0e0600041500000400000000000000000000000e
12360data0e0000060005000a07070707070707070c16000e
12370data0e0000000004000000000000000000000400000e
12380data0e000000000a070707070707070708140415140e
12390data000e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e00
12400data000e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e00
12410data0e0000000000000000000000000000000000000e
12420data0e000d07070707070708160009070707070c000e
12430data0e0004000000000000000000000000000004000e
12440data0e0004150000000000000000000000001404000e
12450data0e000307070707070707070707070707070b000e
12460data0e0004000000000000000000000000000000000e
12470data0e000415000000140516000e0e0e0e0e0e0e0e0e
12480data0e000a07070707070300000e0e0e0e0e0e0e0e0e
12490data0e000000000000000400000e0e1200000000000e
12500data0e000000000000150400000e0e1300000000000e
12510data0e000d07070707070300000e0e0e0e0e0e0e000e
12520data0e0004000000000006000016000000000005000e
12530data0e000400000000000000000e000000000004000e
12540data0e0003070707070707070707070707080004000e
12550data0e070b000000000000000000000000000004000e
12560data0e0000000000000005000005140000000004000e
12570data0e000907070707070b00000a07070707070b000e
12580data0e1500000000001600000000000000000000000e
12590data000e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e0e00
9000fori=0to5:sp$=""
9220forj=0to31
9230reada$
9240sp$=sp$+chr$(val(a$))
9250nextJ
9260sprite$(i)=sp$
9270nexti
9350remspritesdatadefinitions
9360remdatadefinitionsprite0,name:Sprite-2
9370data0,0,0,0,0,0,0,24
9380data32,32,35,31,15,28,48,48
9390data0,0,0,0,0,0,0,20
9400data26,30,188,232,244,234,10,0
9410remdatadefinitionsprite1,name:Sprite-2
9420data0,0,0,0,0,0,0,0
9430data0,192,49,15,7,6,1,0
9440data0,0,0,0,0,0,0,10
9450data13,15,222,244,232,80,168,168
9460remdatadefinitionsprite2,name:Sprite-2
9470data0,0,0,0,0,0,0,40
9480data88,120,61,23,47,87,80,0
9490data0,0,0,0,0,0,0,24
9500data4,4,196,248,240,56,12,12
9510remdatadefinitionsprite3,name:Sprite-2
9520data0,0,0,0,0,0,0,80
9530data176,240,123,47,23,10,21,21
9540data0,0,0,0,0,0,0,0
9550data0,2,140,240,224,96,128,0
9560remdatadefinitionsprite4,name:Sprite-2
9570data0,0,0,0,0,2,3,3
9580data1,1,3,6,5,6,26,33
9590data0,0,0,0,0,32,224,224
9600data192,192,224,240,240,160,160,192
9610remdatadefinitionsprite5,name:Sprite-2
9620data0,0,0,0,0,2,1,3
9630data19,9,7,7,3,3,1,2
9640data0,0,0,0,0,64,128,192
9650data200,144,224,224,224,192,128,64
9990return
10000FORt=6144TO6912
10010vpoket,255
10020nextt
10030FORI=0TO(26*8)-1
10040READA$
10050VPOKEI,VAL("&H"+A$)
10060VPOKE2048+I,VAL("&H"+A$)
10070VPOKE4096+I,VAL("&H"+A$)
10080NEXTI
10100DATAFF,66,66,00,00,66,66,00
10101DATAFF,66,66,00,00,66,66,00
10102DATAFF,99,99,FF,FF,99,99,FF
10103DATAFF,FF,FF,FF,FF,FF,FF,FF
10104DATA7E,7E,7E,7E,7E,7E,7E,7E
10105DATA00,7E,7E,7E,7E,7E,7E,7E
10106DATA7E,7E,7E,7E,7E,7E,7E,00
10107DATA00,FF,FF,FF,FF,FF,FF,00
10108DATA00,FE,FE,FE,FE,FE,FE,00
10109DATA00,7F,7F,7F,7F,7F,7F,00
10110DATA7F,7F,7F,7F,7F,7F,7F,00
10111DATAFE,FE,FE,FE,FE,FE,FE,00
10112DATA00,FE,FE,FE,FE,FE,FE,FE
10113DATA00,7F,7F,7F,7F,7F,7F,7F
10114DATA00,F7,F7,F7,00,7F,7F,7F
10115DATA00,F7,F7,F7,00,7F,7F,7F
10116DATA00,F7,F7,F7,00,7F,7F,7F
10117DATAFF,18,18,7E,7E,18,18,00
10118DATA00,7E,7E,7E,7E,7E,7E,7E
10119DATA5E,5E,7E,7E,7E,7E,7E,00
10120DATA18,3C,C3,81,1C,C3,3C,18
10121DATA14,3F,54,3E,15,15,7E,14
10122DATAFF,A5,FF,A5,A5,FF,A5,FF
10123DATAFF,5A,00,5A,5A,00,5A,00
10124DATAFF,C3,BD,5A,66,3C,81,D5
10125DATA7E,BD,DB,E7,E7,DB,BD,7E
10500FORI=0TO(26*8)-1
10520READA$
10530VPOKE8192+I,VAL("&H"+A$):'&h2000'
10540VPOKE10240+I,VAL("&H"+A$):'&h2800'
10550VPOKE12288+I,VAL("&H"+A$):'&h3000'
10560NEXTI
10600DATAE1,FE,FE,FE,FE,FE,FE,FE
10601DATAA1,EA,EA,EA,EA,EA,EA,EA
10602DATAF1,FE,FE,FE,FE,FE,FE,FE
10603DATAA1,A1,A1,A1,A1,A1,A1,A1
10604DATAA1,A1,A1,A1,A1,A1,A1,A1
10605DATAA1,E1,A1,A1,A1,A1,A1,A1
10606DATAA1,A1,A1,A1,A1,A1,E1,E1
10607DATAE1,E1,A1,A1,A1,A1,E1,E1
10608DATAE1,E1,A1,A1,A1,A1,E1,E1
10609DATAE1,E1,A1,A1,A1,A1,E1,E1
10610DATAA1,A1,A1,A1,A1,A1,E1,E1
10611DATAA1,A1,A1,A1,A1,A1,E1,E1
10612DATAE1,E1,A1,A1,A1,A1,A1,A1
10613DATAA1,E1,A1,A1,A1,A1,A1,A1
10614DATAA1,81,81,81,81,81,81,81
10615DATA81,51,51,51,51,51,51,51
10616DATA51,31,31,31,31,31,31,31
10617DATAF1,BF,BF,BF,BF,BF,BF,BF
10618DATA11,91,71,71,71,71,91,91
10619DATA91,91,91,91,91,91,91,91
10620DATA7F,7F,75,75,85,75,7F,7F
10621DATAA1,A1,A1,A1,A1,A1,A1,A1
10622DATAD1,D9,D9,D9,D9,D9,D9,D9
10623DATA61,D6,D6,D6,D6,D6,D6,D6
10624DATAA1,A6,A6,A6,A6,A6,A6,A6
10625DATAA6,A6,A6,A6,A6,A6,A6,A6
10690return
